[gd_scene load_steps=26 format=3 uid="uid://c60ahxinwnsw"]

[ext_resource type="Script" uid="uid://v2sucv6cakrd" path="res://robot_enemy.gd" id="1_6swhj"]
[ext_resource type="Texture2D" uid="uid://b8qsx11qx8l87" path="res://happyrobot_down_left.png" id="2_oe3bg"]
[ext_resource type="Texture2D" uid="uid://bwll1ebwvjoeg" path="res://happyrobot_down_right.png" id="3_05j4m"]
[ext_resource type="Texture2D" uid="uid://bk7b0hmyfsyeg" path="res://happyrobot_up_left.png" id="4_wq6o2"]
[ext_resource type="Texture2D" uid="uid://bq54ok5mgbx03" path="res://happyrobot_up_right.png" id="5_513ua"]
[ext_resource type="Script" uid="uid://bhaai2o87q120" path="res://enemy_healthbar.gd" id="6_7ued3"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_qsp4k"]
radius = 0.6699219
height = 1.4588013

[sub_resource type="AtlasTexture" id="AtlasTexture_ruth0"]
atlas = ExtResource("2_oe3bg")
region = Rect2(0, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_rm4vd"]
atlas = ExtResource("2_oe3bg")
region = Rect2(64, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_pjyto"]
atlas = ExtResource("2_oe3bg")
region = Rect2(128, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_sm6fg"]
atlas = ExtResource("2_oe3bg")
region = Rect2(192, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_b17eg"]
atlas = ExtResource("3_05j4m")
region = Rect2(0, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_ntx8l"]
atlas = ExtResource("3_05j4m")
region = Rect2(64, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_uatky"]
atlas = ExtResource("3_05j4m")
region = Rect2(128, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_rqtf5"]
atlas = ExtResource("3_05j4m")
region = Rect2(192, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_1vm84"]
atlas = ExtResource("4_wq6o2")
region = Rect2(0, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_wu3dr"]
atlas = ExtResource("4_wq6o2")
region = Rect2(64, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_cyx1q"]
atlas = ExtResource("4_wq6o2")
region = Rect2(128, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_0dhbp"]
atlas = ExtResource("4_wq6o2")
region = Rect2(192, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_jx0wj"]
atlas = ExtResource("5_513ua")
region = Rect2(0, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_kkkcx"]
atlas = ExtResource("5_513ua")
region = Rect2(64, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_34ol3"]
atlas = ExtResource("5_513ua")
region = Rect2(128, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_c2n8d"]
atlas = ExtResource("5_513ua")
region = Rect2(192, 0, 64, 64)

[sub_resource type="SpriteFrames" id="SpriteFrames_b17eg"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_ruth0")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_rm4vd")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_pjyto")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_sm6fg")
}],
"loop": true,
"name": &"running_down_left",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_b17eg")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ntx8l")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_uatky")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_rqtf5")
}],
"loop": true,
"name": &"running_down_right",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_1vm84")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_wu3dr")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_cyx1q")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_0dhbp")
}],
"loop": true,
"name": &"running_up_left",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_jx0wj")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_kkkcx")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_34ol3")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_c2n8d")
}],
"loop": true,
"name": &"running_up_right",
"speed": 5.0
}]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_a6jrf"]
radius = 0.4404297
height = 1.4177246

[node name="robot_enemy" type="CharacterBody3D" node_paths=PackedStringArray("player", "nav", "healthbar", "sprite", "collisionbox_shape", "damagebox_shape")]
collision_layer = 4
collision_mask = 21
script = ExtResource("1_6swhj")
player = NodePath("")
nav = NodePath("NavigationAgent3D")
speed = 1.5
max_health = 50.0
healthbar = NodePath("healthbar")
sprite = NodePath("AnimatedSprite3D")
collisionbox_shape = NodePath("collsionbox")
damagebox_shape = NodePath("hitbox/hitboxshape")

[node name="collsionbox" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.16014862, 0)
shape = SubResource("CapsuleShape3D_qsp4k")

[node name="AnimatedSprite3D" type="AnimatedSprite3D" parent="."]
transform = Transform3D(0.70710677, 0, 0.70710677, 0, 1.155, 0, -0.70710677, 0, 0.70710677, 0, 0, 0)
pixel_size = 0.0313
shaded = true
double_sided = false
alpha_cut = 1
texture_filter = 2
sprite_frames = SubResource("SpriteFrames_b17eg")
animation = &"running_down_left"

[node name="NavigationAgent3D" type="NavigationAgent3D" parent="."]

[node name="healthbar" type="Node2D" parent="."]
position = Vector2(0, -40)
script = ExtResource("6_7ued3")
max_value = 50.0
width = 48.0
height = 2.0

[node name="hitbox" type="Area3D" parent="."]
collision_layer = 8
collision_mask = 0

[node name="hitboxshape" type="CollisionShape3D" parent="hitbox"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.060569763, 0)
shape = SubResource("CapsuleShape3D_a6jrf")
